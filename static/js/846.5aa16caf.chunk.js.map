{"version":3,"file":"static/js/846.5aa16caf.chunk.js","mappings":"4MAKO,MAAMA,EAASC,IAAsB,IAADC,EAAA,IAApB,YAAEC,GAAaF,EAclC,MAAOG,EAAcC,IAAmBC,EAAAA,EAAAA,UAAS,MAqCjD,OACIC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EAYIF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,iBAAgBD,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKI,MAAM,YAAWF,SAAA,EAClBG,EAAAA,EAAAA,KAAA,SAAOC,IAAI,WAAWF,MAAM,aAAYF,SAAC,4BACzCG,EAAAA,EAAAA,KAAA,SAAOE,SAnDGC,IACtBV,EAAgBU,EAAEC,OAAOC,MAAM,GAAG,EAkDaN,MAAM,sBAAsBO,KAAK,OAAOC,GAAG,iBAGlFP,EAAAA,EAAAA,KAAA,UAAQQ,QAlDCC,UACjB,IAEI,MAAMC,GAAUC,EAAAA,EAAAA,MACVC,GAAaC,EAAAA,EAAAA,IAAIH,EAAS,mBAAqBlB,EAAasB,YAG5DC,EAAAA,EAAAA,GAAYH,EAAYpB,GAG9B,MAAMwB,QAAoBC,EAAAA,EAAAA,IAAeL,GAGnCrB,EAAc2B,EAAAA,GAAK3B,YACrBA,UACM4B,EAAAA,EAAAA,IAAc5B,EAAa,CAAE6B,SAAUJ,IAC7CK,QAAQC,IAAI,iCAEpB,CAAE,MAAOC,GACLF,QAAQE,MAAM,wBAAyBA,EAC3C,GA8BuCzB,UAAU,kBAAiBD,SAAC,eAG/DG,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iBAAgBD,UAC3BG,EAAAA,EAAAA,KAAA,OAEIwB,MAAO,CAAEC,OAAQ,QACjB3B,UAAU,qBACV4B,IAAS,OAAJR,EAAAA,SAAI,IAAJA,EAAAA,IAAiB,QAAb5B,EAAJ4B,EAAAA,GAAM3B,mBAAW,IAAAD,OAAb,EAAJA,EAAmB8B,SACxBO,IAAI,gBAGb,C","sources":["MyComp/Editpp.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { auth } from '../Authen/firebase';\r\nimport { getDownloadURL, getStorage, ref, uploadBytes } from 'firebase/storage';\r\nimport { updateProfile } from 'firebase/auth';\r\n\r\nexport const Editpp = ({ currentUser }) => {\r\n\r\n    // const [pic, setPic] = useState({\r\n    //     picture: \"\",\r\n    // });\r\n\r\n    // const [pic, setPic] = useState({\r\n    //     picture: currentUser?.photoURL || \"\", // Initialize the picture state with currentUser's photoURL if available\r\n    // });\r\n\r\n    // const editpp = async () => {\r\n    //     setPic({ ...pic, picture: pic })\r\n    // }\r\n\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n    const handleFileChange = (e) => {\r\n        setSelectedFile(e.target.files[0]);\r\n    };\r\n\r\n    const handleUpload = async () => {\r\n        try {\r\n            // Create a storage reference\r\n            const storage = getStorage();\r\n            const storageRef = ref(storage, 'profilePictures/' + selectedFile.name);\r\n\r\n            // Upload file to Firebase Storage\r\n            await uploadBytes(storageRef, selectedFile);\r\n\r\n            // Get the download URL of the uploaded file\r\n            const downloadURL = await getDownloadURL(storageRef);\r\n\r\n            // Update user's photoURL with the download URL\r\n            const currentUser = auth.currentUser;\r\n            if (currentUser) {\r\n                await updateProfile(currentUser, { photoURL: downloadURL });\r\n                console.log(\"PhotoURL updated successfully\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error uploading file:\", error);\r\n        }\r\n    };\r\n\r\n    // const [pic, setPic] = useState({\r\n    //     picture: \"\",\r\n    // });\r\n\r\n    // const editpp = async () => {\r\n    //     setPic({ ...pic, picture: pic })\r\n    // }\r\n\r\n    return (\r\n        <>\r\n            {/* <img\r\n              \r\n                style={{ height: \"25px\" }}\r\n                className=\"rounded-circle m-2\"\r\n                src={auth?.currentUser?.photoURL}\r\n                alt=\"Profile\"\r\n            // value={pic?.picture}\r\n            // onClick={editpp}\r\n            // onChange={(e) => setPic({ ...pic, picture: e.target.value })}\r\n            /> */}\r\n\r\n            <div className='container my-4'>\r\n                <div class=\"mb-3 my-4\">\r\n                    <label for=\"formFile\" class=\"form-label\">Choose Profile Picture</label>\r\n                    <input onChange={handleFileChange} class=\"form-control b-dark\" type=\"file\" id=\"formFile\" />\r\n                </div>\r\n                {/* <input type=\"file\" onChange={handleFileChange} /> */}\r\n                <button onClick={handleUpload} className='btn btn-success'>Upload</button>\r\n            </div>\r\n\r\n            <div className='container my-4'>\r\n                <img\r\n\r\n                    style={{ height: \"65px\" }}\r\n                    className=\"rounded-circle m-2\"\r\n                    src={auth?.currentUser?.photoURL}\r\n                    alt=\"Profile\"\r\n                />\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}\r\n"],"names":["Editpp","_ref","_auth$currentUser","currentUser","selectedFile","setSelectedFile","useState","_jsxs","_Fragment","children","className","class","_jsx","for","onChange","e","target","files","type","id","onClick","async","storage","getStorage","storageRef","ref","name","uploadBytes","downloadURL","getDownloadURL","auth","updateProfile","photoURL","console","log","error","style","height","src","alt"],"sourceRoot":""}