"use strict";(self.webpackChunkezi_attendance_again=self.webpackChunkezi_attendance_again||[]).push([[331],{4331:(e,t,n)=>{n.r(t),n.d(t,{Mattend:()=>l});n(5043);var a=n(469),r=n(6032),d=n(5475),s=n(5513),c=n(579);const l=e=>{let{CURRENT_USER_TYPE:t}=e;const{currentUser:n}=(0,s.A)();return(0,c.jsx)(c.Fragment,{children:"Candidate_User"===t?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"container msg",id:"msg1"}),(0,c.jsx)("div",{className:"container my-4",children:(0,c.jsx)(d.N_,{onClick:async()=>{try{var e;let d=new Date,s=d.getDate()+"-"+(d.getMonth()+1)+"-"+d.getFullYear();const c=null===a.j2||void 0===a.j2||null===(e=a.j2.currentUser)||void 0===e?void 0:e.uid;if((await(0,r.GG)((0,r.P)((0,r.rJ)(a.kA,"attend"),(0,r._M)("userId","==",c),(0,r._M)("markedAt","==",s)))).empty){var t;await(0,r.gS)((0,r.rJ)(a.kA,"attend"),{userId:null===a.j2||void 0===a.j2||null===(t=a.j2.currentUser)||void 0===t?void 0:t.uid,user:null===n||void 0===n?void 0:n.name,markedAt:s,date:s,status:"present"}),console.log("Attendance marked successfully"),document.getElementById("msg1").innerHTML="Attendance marked successfully"}else{console.log("Attendance already marked for today"),document.getElementById("msg1").innerHTML="Attendance already marked for today"}}catch(d){console.error("Error marking attendance:",d)}},type:"button",className:"btn btn-primary m-4",to:"/mattend",children:"Mark Attendance"})})]}):(0,c.jsx)("div",{children:"You are not authorized"})})}}}]);
//# sourceMappingURL=331.3487e7d3.chunk.js.map