{"version":3,"file":"static/js/74.eeb3016a.chunk.js","mappings":"gMAIO,MAAMA,EAAQA,KAEjB,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAAeC,IAAoBF,EAAAA,EAAAA,UAAS,IA0BnD,OAJAG,EAAAA,EAAAA,YAAU,KAfiBC,WACvB,IACI,MACMC,SADsBC,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAWC,EAAAA,GAAW,YAClBC,KAAKC,KAAIC,GAAOA,EAAIC,SAC5DV,EAAiBG,EACrB,CAAE,MAAOQ,GACLC,QAAQD,MAAM,iCAAkCA,EACpD,GASAE,EAAoB,GACrB,KAGCC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EAGIC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWF,UACtBC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWF,UACtBC,EAAAA,EAAAA,KAAA,SAAOE,KAAK,OAAOD,UAAU,eAAeE,GAAG,wBAAwBC,YAAY,iBAAiBC,SAAWC,GAAM1B,EAAU0B,EAAEC,OAAOC,cAIhJX,EAAAA,EAAAA,MAAA,OAAKI,UAAU,iBAAgBF,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,oBACJF,EAAAA,EAAAA,MAAA,SAAOI,UAAU,QAAOF,SAAA,EACpBC,EAAAA,EAAAA,KAAA,SAAAD,UACIF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,UACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,UACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,iBAGZC,EAAAA,EAAAA,KAAA,SAAAD,SACKjB,EACI2B,QAAQC,IAAa,IAADC,EAAAC,EACjB,MAAgC,KAAzBjC,EAAOkC,cACRH,GAGc,QAAZC,EAAAD,EAAQI,YAAI,IAAAH,OAAA,EAAZA,EAAcE,cAAcE,SAASpC,MAAuB,QAAhBiC,EAAIF,EAAQM,YAAI,IAAAJ,OAAA,EAAZA,EAAcC,cAAcE,SAASpC,GACxF,IAGRY,KAAI,CAACmB,EAASO,KACXpB,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,MAAAD,SAAKW,EAAQI,QACbd,EAAAA,EAAAA,KAAA,MAAAD,SAAKW,EAAQM,QACbhB,EAAAA,EAAAA,KAAA,MAAAD,SAAKW,EAAQQ,WAHRD,eAS9B,C","sources":["MyComp/Aview.js"],"sourcesContent":["import { collection, getDocs } from 'firebase/firestore';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { firestore } from '../Authen/firebase';\r\n\r\nexport const Aview = () => {\r\n\r\n    const [search, setSearch] = useState(\"\");\r\n    const [leaveRequests, setLeaveRequests] = useState([]);\r\n\r\n\r\n    // useEffect(() => {\r\n\r\n\r\n\r\n    const fetchLeaveRequests = async () => {\r\n        try {\r\n            const querySnapshot = await getDocs(collection(firestore, 'attend'));\r\n            const leaveRequestsData = querySnapshot.docs.map(doc => doc.data());\r\n            setLeaveRequests(leaveRequestsData);\r\n        } catch (error) {\r\n            console.error('Error fetching leave requests:', error);\r\n        }\r\n    };\r\n    // return () => unsubscribe();\r\n    //     fetchLeaveRequests();\r\n\r\n    // }, [])\r\n\r\n    // Call fetchLeaveRequests function inside useEffect to fetch leave requests when component mounts\r\n    useEffect(() => {\r\n        fetchLeaveRequests();\r\n    }, []); // Empty dependency array indicates that this effect runs only once, after initial render\r\n\r\n    return (\r\n        <>\r\n\r\n\r\n            <div className='container'>\r\n                <div className=\"mb-3 my-4\">\r\n                    <input type=\"text\" className=\"form-control\" id=\"formGroupExampleInput\" placeholder='Search here...' onChange={(e) => setSearch(e.target.value)} />\r\n                </div>\r\n            </div>\r\n\r\n            <div className='container my-4'>\r\n                <h2>All Attendance</h2>\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>User</th>\r\n                            <th>Date</th>\r\n                            <th>Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {leaveRequests\r\n                            .filter((request) => {\r\n                                return search.toLowerCase() === \"\"\r\n                                    ? request\r\n                                    :\r\n                                    (\r\n                                        request.user?.toLowerCase().includes(search) || request.date?.toLowerCase().includes(search)\r\n                                    )\r\n                            })\r\n\r\n                            .map((request, index) => (\r\n                                <tr key={index}>\r\n                                    <td>{request.user}</td>\r\n                                    <td>{request.date}</td>\r\n                                    <td>{request.status}</td>\r\n                                </tr>\r\n                            ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n"],"names":["Aview","search","setSearch","useState","leaveRequests","setLeaveRequests","useEffect","async","leaveRequestsData","getDocs","collection","firestore","docs","map","doc","data","error","console","fetchLeaveRequests","_jsxs","_Fragment","children","_jsx","className","type","id","placeholder","onChange","e","target","value","filter","request","_request$user","_request$date","toLowerCase","user","includes","date","index","status"],"sourceRoot":""}