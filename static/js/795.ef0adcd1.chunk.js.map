{"version":3,"file":"static/js/795.ef0adcd1.chunk.js","mappings":"iMAIO,MAAMA,EAAQA,KAEjB,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,CAE/BC,KAAM,GACNC,OAAQ,GACRC,KAAM,KA8CV,OACIC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UAEIC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWF,SAAA,EACtBF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,iBAAgBF,UAC3BC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMF,SAAA,EACjBF,EAAAA,EAAAA,KAAA,SAAOK,QAAQ,2BAA2BD,UAAU,aAAYF,SAAC,UAGjEF,EAAAA,EAAAA,KAAA,SACIM,KAAK,OACLF,UAAU,kCACVV,MAAOA,EAAMG,KACbU,SAAWC,GAAMb,EAAS,IAAKD,EAAOG,KAAMW,EAAEC,OAAOf,QACrDgB,GAAG,2BACHC,YAAY,eAIxBX,EAAAA,EAAAA,KAAA,OAAKI,UAAU,iBAAgBF,UAC3BC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMF,SAAA,EACjBF,EAAAA,EAAAA,KAAA,SAAOK,QAAQ,2BAA2BD,UAAU,aAAYF,SAAC,YAGjEF,EAAAA,EAAAA,KAAA,SACIM,KAAK,OACLF,UAAU,kCACVV,MAAOA,EAAMI,OACbS,SAAWC,GAAMb,EAAS,IAAKD,EAAOI,OAAQU,EAAEC,OAAOf,QACvDgB,GAAG,2BACHC,YAAY,iBAIxBX,EAAAA,EAAAA,KAAA,OAAKI,UAAU,iBAAgBF,UAC3BC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMF,SAAA,EACjBF,EAAAA,EAAAA,KAAA,SAAOK,QAAQ,2BAA2BD,UAAU,aAAYF,SAAC,UAGjEF,EAAAA,EAAAA,KAAA,SACIM,KAAK,OACLF,UAAU,kCACVV,MAAOA,EAAMK,KACbQ,SAAWC,GAAMb,EAAS,IAAKD,EAAOK,KAAMS,EAAEC,OAAOf,QACrDgB,GAAG,2BACHC,YAAY,eAIxBX,EAAAA,EAAAA,KAAA,OAAKI,UAAU,iBAAgBF,UAC3BF,EAAAA,EAAAA,KAAA,UAAQI,UAAU,kBAAkBQ,QA1FrCC,UACX,IAESnB,EAAMG,MAASH,EAAMI,QAAWJ,EAAMK,MACvCe,QAAQC,IAAI,6BAKhB,MAAMC,QAAsBC,EAAAA,EAAAA,KACxBC,EAAAA,EAAAA,IAAMC,EAAAA,EAAAA,IAAWC,EAAAA,GAAW,WACxBC,EAAAA,EAAAA,IAAM,OAAQ,KAAM3B,EAAMK,OAC1BsB,EAAAA,EAAAA,IAAM,OAAQ,KAAM3B,EAAMG,QAKlC,GAAKmB,EAAcM,MAefR,QAAQC,IAAI,wDAfU,CAEtB,MAAMQ,EAAQP,EAAcQ,KAAK,GAAGd,GAG9Be,GAASC,EAAAA,EAAAA,KAAIP,EAAAA,EAAAA,IAAWC,EAAAA,GAAW,UAAWG,SAG9CI,EAAAA,EAAAA,IAAUF,EAAQ,CACpB3B,OAAQJ,EAAMI,OACdD,KAAMH,EAAMG,OAGhBiB,QAAQC,IAAI,gCAChB,CAGJ,CAAE,MAAOa,GACLd,QAAQc,MAAM,2BAA4BA,EAC9C,GAsDgE1B,SAAC,iBAM9D,C","sources":["MyComp/Aedit.js"],"sourcesContent":["import { addDoc, collection, doc, getDoc, getDocs, query, updateDoc, where } from 'firebase/firestore';\r\nimport React, { useState } from 'react'\r\nimport { firestore } from '../Authen/firebase';\r\n\r\nexport const Aedit = () => {\r\n\r\n    const [value, setValue] = useState({\r\n        // id: id,\r\n        user: \"\",\r\n        status: \"\",\r\n        date: \"\",\r\n    })\r\n\r\n\r\n\r\n\r\n    const update = async () => {\r\n        try {\r\n            // Validate input fields\r\n            if (!value.user || !value.status || !value.date) {\r\n                console.log(\"Please fill in all fields\");\r\n                // return;\r\n            }\r\n\r\n            // Find the document to update based on the provided date\r\n            const querySnapshot = await getDocs(\r\n                query(collection(firestore, 'attend'),\r\n                    where('date', '==', value.date),\r\n                    where('user', '==', value.user)\r\n                )\r\n            );\r\n\r\n            // Check if the document exists\r\n            if (!querySnapshot.empty) {\r\n                // Get the ID of the first matching document\r\n                const docId = querySnapshot.docs[0].id;\r\n\r\n                // Get a reference to the specific document\r\n                const docRef = doc(collection(firestore, 'attend'), docId);\r\n\r\n                // Update the specific document using its reference\r\n                await updateDoc(docRef, {\r\n                    status: value.status,\r\n                    user: value.user\r\n                });\r\n\r\n                console.log(\"Document updated successfully\");\r\n            } else {\r\n                console.log(\"No matching document found for the provided date\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error updating document:\", error);\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n\r\n            <div className='container'>\r\n                <div className=\"container my-4\">\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">\r\n                            Name\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control border border-dark\"\r\n                            value={value.user}\r\n                            onChange={(e) => setValue({ ...value, user: e.target.value })}\r\n                            id=\"exampleFormControlInput1\"\r\n                            placeholder=\"Name\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"container my-4\">\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">\r\n                            Status\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control border border-dark\"\r\n                            value={value.status}\r\n                            onChange={(e) => setValue({ ...value, status: e.target.value })}\r\n                            id=\"exampleFormControlInput1\"\r\n                            placeholder=\"Status\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"container my-4\">\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">\r\n                            Date\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control border border-dark\"\r\n                            value={value.date}\r\n                            onChange={(e) => setValue({ ...value, date: e.target.value })}\r\n                            id=\"exampleFormControlInput1\"\r\n                            placeholder=\"Date\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className='container my-4'>\r\n                    <button className='btn btn-success' onClick={update}>Update</button>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n"],"names":["Aedit","value","setValue","useState","user","status","date","_jsx","_Fragment","children","_jsxs","className","htmlFor","type","onChange","e","target","id","placeholder","onClick","async","console","log","querySnapshot","getDocs","query","collection","firestore","where","empty","docId","docs","docRef","doc","updateDoc","error"],"sourceRoot":""}