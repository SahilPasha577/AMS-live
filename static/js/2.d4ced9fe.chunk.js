"use strict";(self.webpackChunkezi_attendance_again=self.webpackChunkezi_attendance_again||[]).push([[2],{2002:(e,t,a)=>{a.r(t),a.d(t,{MyReportgen:()=>d});var s=a(5043),r=a(469),n=a(6032),c=a(5513),l=a(579);const d=()=>{const{currentUser:e}=(0,c.A)(),[t,a]=(0,s.useState)(""),[d,i]=(0,s.useState)(""),[h,o]=(0,s.useState)([]);return(0,l.jsxs)("div",{className:"container my-4",children:[(0,l.jsx)("h1",{children:"Generate Attendance Report"}),(0,l.jsx)("label",{htmlFor:"fromDate",className:"mx-2",children:" From Date "}),(0,l.jsx)("input",{className:"mx-2",type:"date",id:"fromDate",value:t,onChange:e=>a(e.target.value)}),(0,l.jsx)("label",{htmlFor:"toDate",className:"mx-2",children:"To Date"}),(0,l.jsx)("input",{className:"mx-2",type:"date",id:"toDate",value:d,onChange:e=>i(e.target.value)}),(0,l.jsx)("button",{className:"btn btn-primary mx-2",onClick:async()=>{try{const e=r.j2.currentUser.uid,a=t.split("-").reverse().join("-"),s=d.split("-").reverse().join("-"),c=await(0,n.GG)((0,n.P)((0,n.rJ)(r.kA,"attend"),(0,n._M)("markedAt",">=",a),(0,n._M)("markedAt","<=",s),(0,n._M)("userId","==",e))),l=[];c.forEach((e=>{const t=e.data();l.push(t)})),o(l),console.log("Report generated successfully:",l)}catch(e){console.error("Error generating report:",e)}},children:"Generate Report"}),(0,l.jsx)("h2",{className:"my-4",children:"User Attendance"}),(0,l.jsxs)("table",{className:"table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"User"}),(0,l.jsx)("th",{children:"Date"}),(0,l.jsx)("th",{children:"Status"})]})}),(0,l.jsx)("tbody",{children:h.map(((e,t)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.user}),(0,l.jsx)("td",{children:e.markedAt}),(0,l.jsx)("td",{children:e.status})]},t)))})]})]})}}}]);
//# sourceMappingURL=2.d4ced9fe.chunk.js.map